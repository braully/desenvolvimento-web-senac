<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="pt-br"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

    <ui:define name="titulo">Necessidade do bairro</ui:define>

    <ui:composition template="/principal.xhtml">
        <ui:define name="conteudo">
            <div class="form-group">
                <label>Pais</label>
                <select class="form-control" disabled="disabled">
                    <option>Brasil</option>
                </select>
            </div>

            <div class="form-row form-group">
                <div class="col-4">
                    <label>Estado</label>
                    <select id="estado" class="form-control">
                        <option>--</option>
                        <option>GO</option>
                    </select>
                </div>

                <div class="col-8">
                    <label>Cidade</label>
                    <select id="cidade" class="form-control">
                        <option>--</option>
                    </select>
                </div>
            </div>

            <div class="form-group">
                <label>Bairro</label>
                <select id="bairro" class="form-control">
                    <option>--</option>
                </select>
            </div>

            <div class="form-group">
                <label>Necessidade</label>
                <select class="form-control">
                    <option></option>
                    <option>Mercearia</option>
                    <option>Outros</option>
                </select>
            </div>

            <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

            <script>
                $("#estado").change(
                        function () {
                            $.get("/ws/cidade", {estado: $("#estado").val()})
                                    .done(function (cidades) {
                                        $("#cidade").empty();
                                        $("#cidade").append("<option>--</option>");
                                        for (var i in cidades) {
                                            $("#cidade").append(
                                                    "<option>" + cidades[i].nome + "</option>"
                                                    );
                                        }
                                    });
                        });
            </script>
        </ui:define>
    </ui:composition>

</html>
